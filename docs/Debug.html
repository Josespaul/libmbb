<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>libmbb - Debugging Macros
</title>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootswatch/3.3.2/cosmo/bootstrap.min.css">
<style>
body {
	padding-top: 20px;
	padding-bottom: 20px;
}
@media (min-width: 768px) {
	.container {
		max-width: 730px;
	}
}
</style>
</head>
<body>
<div class="container">
<h1>libmbb - Debugging Macros</h1>

<p><em>libmbb</em> features a set of debugging macros defined in <code>mbb/debug.h</code>.</p>

<pre><code>#include &quot;mbb/debug.h&quot;
</code></pre>

<p>All debugging macros can be disabled by defining the macro NDEBUG before including
<code>mbb/debug.h</code>.</p>

<p>Have a look at <a href="../examples/debugging.c">the example</a>.</p>

<h2>Print a string adding a newline</h2>

<pre><code>MDBG_PRINT_LN(&quot;hello, world!&quot;);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 11): hello, world!</code></p>

<h2>Print an integer (decimal)</h2>

<pre><code>int i = 128;
MDBG_PRINT_I(i);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 13): i = 128</code></p>

<h2>Print an integer (octal)</h2>

<pre><code>int i = 128;
MDBG_PRINT_O(i);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 14): i = O200</code></p>

<h2>Print an integer (hexadecimal)</h2>

<pre><code>int i = 128;
MDBG_PRINT_X(i);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 15): i = 0x80</code></p>

<h2>Print a character</h2>

<pre><code>char a = &#39;b&#39;;
MDBG_PRINT_C(a);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 17): a = &#39;b&#39;</code></p>

<h2>Print a float value</h2>

<pre><code>double pi = 3.14;
MDBG_PRINT_F(pi);
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 19): pi = 3.140000</code></p>

<h2>Print a string</h2>

<pre><code>char foo[] = &quot;bar&quot;;
MDBG_PRINT_S(foo);
</code></pre>

<p><code>2015-02-12T12:44:06.000 (examples/debugging.c, 23): foo: &quot;bar&quot;</code></p>

<h2>Print a memory region</h2>

<pre><code>uint8_t data[] = { 0xa, 0xb, 0xc, 0xd, 0xe, 0xf };
MDBG_PRINT_MEM(data, sizeof(data));
</code></pre>

<p><code>2015-02-12T12:36:41.000 (examples/debugging.c, 21): data(0xbf916bd9, 6): 0A 0B 0C 0D 0E 0F</code></p>

<h2>Generic printing macros</h2>

<p>There are generic <code>printf</code>-like macros depending on the number of arguments.
This is because only few preprocessors feature support for variadic macros.</p>

<pre><code>MDBG_PRINT0(FORMAT)
MDBG_PRINT1(FORMAT, ARG)
MDBG_PRINT2(FORMAT, ARG1, ARG2)
...
MDBG_PRINT10(FORMAT, ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10)
</code></pre>

<p>Example:</p>

<pre><code>int answer = 42;
MDBG_PRINT1(&quot;the answer is %d\n&quot;, answer);
</code></pre>

<p><code>2015-02-12T12:44:06.000 (examples/debugging.c, 27): the answer is 42</code></p>

<h2>Print errno</h2>

<pre><code>read(55, NULL, 0);
MDBG_PRINT_ERRNO(&quot;read&quot;);
</code></pre>

<p><code>2015-02-12T13:13:41.000 (examples/debugging.c, 52): read: Bad file descriptor</code></p>

<h2>Assertions</h2>

<pre><code>int answer = 42;
MDBG_ASSERT(answer == 41);
</code></pre>

<p><code>2015-02-12T13:10:33.000 (examples/debugging.c, 54): assertion failed: answer == 41</code></p>

<pre><code>debugging: examples/debugging.c:54: main: Assertion `answer == 41&#39; failed.
Aborted
</code></pre>

<h2>Assert a line of code is never reached</h2>

<pre><code>MDBG_NEVER_REACHED();
</code></pre>

<p><code>2015-02-12T13:13:41.000 (examples/debugging.c, 56): assertion failed: !&quot;reached&quot;</code></p>

<pre><code>debugging: examples/debugging.c:56: main: Assertion `!&quot;reached&quot;&#39; failed.
Aborted
</code></pre>

<p class="text-muted text-center" style="margin-top: 40px;">
This website was rendered automatically from <em>libmbb</em>'s Markdown documentation.
</p>
</div>
</body>
</html>
